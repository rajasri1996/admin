{"ast":null,"code":"\"use strict\";\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n  result[\"default\"] = mod;\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nconst React = __importStar(require(\"react\"));\n\nconst circularGeometry_1 = require(\"./circularGeometry\");\n\nconst svgPaths_1 = require(\"./svgPaths\");\n\nclass CircularSlider extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.svgRef = React.createRef();\n\n    this.onMouseEnter = ev => {\n      if (ev.buttons === 1) {\n        this.onMouseDown(ev);\n      }\n    };\n\n    this.onMouseDown = ev => {\n      const svgRef = this.svgRef.current;\n\n      if (svgRef) {\n        svgRef.addEventListener(\"mousemove\", this.processSelection);\n        svgRef.addEventListener(\"mouseleave\", this.removeMouseListeners);\n        svgRef.addEventListener(\"mouseup\", this.removeMouseListeners);\n      }\n\n      this.processSelection(ev);\n    };\n\n    this.removeMouseListeners = () => {\n      const svgRef = this.svgRef.current;\n\n      if (svgRef) {\n        svgRef.removeEventListener(\"mousemove\", this.processSelection);\n        svgRef.removeEventListener(\"mouseleave\", this.removeMouseListeners);\n        svgRef.removeEventListener(\"mouseup\", this.removeMouseListeners);\n      }\n\n      if (this.props.onControlFinished) {\n        this.props.onControlFinished();\n      }\n    };\n\n    this.processSelection = ev => {\n      const {\n        size,\n        maxValue,\n        minValue,\n        angleType,\n        startAngle,\n        endAngle,\n        handle1,\n        disabled,\n        handle2,\n        coerceToInt\n      } = this.props;\n\n      if (!handle1.onChange) {\n        return;\n      }\n\n      const svgRef = this.svgRef.current;\n\n      if (!svgRef) {\n        return;\n      }\n\n      const svgPoint = svgRef.createSVGPoint();\n      const x = ev.clientX;\n      const y = ev.clientY;\n      svgPoint.x = x;\n      svgPoint.y = y;\n      const coordsInSvg = svgPoint.matrixTransform(svgRef.getScreenCTM().inverse());\n      const angle = circularGeometry_1.positionToAngle(coordsInSvg, size, angleType);\n      let value = circularGeometry_1.angleToValue({\n        angle,\n        minValue,\n        maxValue,\n        startAngle,\n        endAngle\n      });\n\n      if (coerceToInt) {\n        value = Math.round(value);\n      }\n\n      if (!disabled) {\n        if (handle2 && handle2.onChange && Math.abs(value - handle2.value) < Math.abs(value - handle1.value)) {\n          handle2.onChange(value);\n        } else {\n          handle1.onChange(value);\n        }\n      }\n    };\n  }\n\n  render() {\n    const {\n      size,\n      handle1,\n      handle2,\n      handleSize,\n      maxValue,\n      minValue,\n      startAngle,\n      endAngle,\n      angleType,\n      disabled,\n      arcColor,\n      arcBackgroundColor,\n      outerShadow\n    } = this.props;\n    const trackWidth = 4;\n    const shadowWidth = 20;\n    const trackInnerRadius = size / 2 - trackWidth - shadowWidth;\n    const handle1Angle = circularGeometry_1.valueToAngle({\n      value: handle1.value,\n      minValue,\n      maxValue,\n      startAngle,\n      endAngle\n    });\n    const handle2Angle = handle2 && circularGeometry_1.valueToAngle({\n      value: handle2.value,\n      minValue,\n      maxValue,\n      startAngle,\n      endAngle\n    });\n    const handle1Position = circularGeometry_1.angleToPosition(Object.assign({\n      degree: handle1Angle\n    }, angleType), trackInnerRadius + trackWidth / 2, size);\n    const handle2Position = handle2Angle && circularGeometry_1.angleToPosition(Object.assign({\n      degree: handle2Angle\n    }, angleType), trackInnerRadius + trackWidth / 2, size);\n    const controllable = !disabled && Boolean(handle1.onChange);\n    return React.createElement(\"svg\", {\n      width: size,\n      height: size,\n      ref: this.svgRef,\n      onMouseDown: this.onMouseDown,\n      onMouseEnter: this.onMouseEnter,\n      onClick: ev => controllable && ev.stopPropagation()\n    }, outerShadow && React.createElement(React.Fragment, null, React.createElement(\"radialGradient\", {\n      id: \"outerShadow\"\n    }, React.createElement(\"stop\", {\n      offset: \"90%\",\n      stopColor: arcColor\n    }), React.createElement(\"stop\", {\n      offset: \"100%\",\n      stopColor: \"white\"\n    })), React.createElement(\"circle\", {\n      fill: \"none\",\n      stroke: \"url(#outerShadow)\",\n      cx: size / 2,\n      cy: size / 2,\n      r: trackInnerRadius + trackWidth + shadowWidth / 2 - 1,\n      strokeWidth: shadowWidth\n    })), handle2Angle === undefined ? React.createElement(React.Fragment, null, React.createElement(\"path\", {\n      d: svgPaths_1.arcPathWithRoundedEnds({\n        startAngle: handle1Angle,\n        endAngle,\n        angleType,\n        innerRadius: trackInnerRadius,\n        thickness: trackWidth,\n        svgSize: size,\n        direction: angleType.direction\n      }),\n      fill: arcBackgroundColor\n    }), React.createElement(\"path\", {\n      d: svgPaths_1.arcPathWithRoundedEnds({\n        startAngle,\n        endAngle: handle1Angle,\n        angleType,\n        innerRadius: trackInnerRadius,\n        thickness: trackWidth,\n        svgSize: size,\n        direction: angleType.direction\n      }),\n      fill: arcColor\n    })) : React.createElement(React.Fragment, null, React.createElement(\"path\", {\n      d: svgPaths_1.arcPathWithRoundedEnds({\n        startAngle,\n        endAngle: handle1Angle,\n        angleType,\n        innerRadius: trackInnerRadius,\n        thickness: trackWidth,\n        svgSize: size,\n        direction: angleType.direction\n      }),\n      fill: arcBackgroundColor\n    }), React.createElement(\"path\", {\n      d: svgPaths_1.arcPathWithRoundedEnds({\n        startAngle: handle2Angle,\n        endAngle,\n        angleType,\n        innerRadius: trackInnerRadius,\n        thickness: trackWidth,\n        svgSize: size,\n        direction: angleType.direction\n      }),\n      fill: arcBackgroundColor\n    }), React.createElement(\"path\", {\n      d: svgPaths_1.arcPathWithRoundedEnds({\n        startAngle: handle1Angle,\n        endAngle: handle2Angle,\n        angleType,\n        innerRadius: trackInnerRadius,\n        thickness: trackWidth,\n        svgSize: size,\n        direction: angleType.direction\n      }),\n      fill: arcColor\n    })), controllable && React.createElement(React.Fragment, null, React.createElement(\"filter\", {\n      id: \"handleShadow\",\n      x: \"-50%\",\n      y: \"-50%\",\n      width: \"16\",\n      height: \"16\"\n    }, React.createElement(\"feOffset\", {\n      result: \"offOut\",\n      in: \"SourceGraphic\",\n      dx: \"0\",\n      dy: \"0\"\n    }), React.createElement(\"feColorMatrix\", {\n      result: \"matrixOut\",\n      in: \"offOut\",\n      type: \"matrix\",\n      values: \"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0\"\n    }), React.createElement(\"feGaussianBlur\", {\n      result: \"blurOut\",\n      in: \"matrixOut\",\n      stdDeviation: \"5\"\n    }), React.createElement(\"feBlend\", {\n      in: \"SourceGraphic\",\n      in2: \"blurOut\",\n      mode: \"normal\"\n    })), React.createElement(\"circle\", {\n      r: handleSize,\n      cx: handle1Position.x,\n      cy: handle1Position.y,\n      fill: \"#ffffff\",\n      filter: \"url(#handleShadow)\"\n    })), handle2Position && React.createElement(React.Fragment, null, React.createElement(\"circle\", {\n      r: handleSize,\n      cx: handle2Position.x,\n      cy: handle2Position.y,\n      fill: \"#ffffff\",\n      filter: \"url(#handleShadow)\"\n    })));\n  }\n\n}\n\nexports.CircularSlider = CircularSlider;\nCircularSlider.defaultProps = {\n  size: 200,\n  minValue: 0,\n  maxValue: 100,\n  startAngle: 0,\n  endAngle: 360,\n  angleType: {\n    direction: \"cw\",\n    axis: \"-y\"\n  },\n  handleSize: 8,\n  arcBackgroundColor: \"#aaa\"\n};\n\nclass CircularSliderWithChildren extends React.Component {\n  render() {\n    const {\n      size\n    } = this.props;\n    return React.createElement(\"div\", {\n      style: {\n        width: size,\n        height: size,\n        position: \"relative\"\n      }\n    }, React.createElement(CircularSlider, Object.assign({}, this.props)), React.createElement(\"div\", {\n      style: {\n        position: \"absolute\",\n        top: \"25%\",\n        left: \"50%\",\n        transform: \"translateX(-50%)\",\n        width: \"60px\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        justifyContent: \"center\"\n      }\n    }, this.props.children));\n  }\n\n}\n\nexports.CircularSliderWithChildren = CircularSliderWithChildren;\nCircularSliderWithChildren.defaultProps = CircularSlider.defaultProps;\nexports.default = CircularSlider;","map":{"version":3,"sources":["C:/Fund/soft-ui-dashboard-pro-react-v2.0.0/admin/node_modules/react-circular-slider-svg/dist/index.js"],"names":["__importStar","mod","__esModule","result","k","Object","hasOwnProperty","call","defineProperty","exports","value","React","require","circularGeometry_1","svgPaths_1","CircularSlider","Component","constructor","arguments","svgRef","createRef","onMouseEnter","ev","buttons","onMouseDown","current","addEventListener","processSelection","removeMouseListeners","removeEventListener","props","onControlFinished","size","maxValue","minValue","angleType","startAngle","endAngle","handle1","disabled","handle2","coerceToInt","onChange","svgPoint","createSVGPoint","x","clientX","y","clientY","coordsInSvg","matrixTransform","getScreenCTM","inverse","angle","positionToAngle","angleToValue","Math","round","abs","render","handleSize","arcColor","arcBackgroundColor","outerShadow","trackWidth","shadowWidth","trackInnerRadius","handle1Angle","valueToAngle","handle2Angle","handle1Position","angleToPosition","assign","degree","handle2Position","controllable","Boolean","createElement","width","height","ref","onClick","stopPropagation","Fragment","id","offset","stopColor","fill","stroke","cx","cy","r","strokeWidth","undefined","d","arcPathWithRoundedEnds","innerRadius","thickness","svgSize","direction","in","dx","dy","type","values","stdDeviation","in2","mode","filter","defaultProps","axis","CircularSliderWithChildren","style","position","top","left","transform","display","flexDirection","alignItems","justifyContent","children","default"],"mappings":"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","sourcesContent":["\"use strict\";\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst React = __importStar(require(\"react\"));\nconst circularGeometry_1 = require(\"./circularGeometry\");\nconst svgPaths_1 = require(\"./svgPaths\");\nclass CircularSlider extends React.Component {\n    constructor() {\n        super(...arguments);\n        this.svgRef = React.createRef();\n        this.onMouseEnter = (ev) => {\n            if (ev.buttons === 1) {\n                this.onMouseDown(ev);\n            }\n        };\n        this.onMouseDown = (ev) => {\n            const svgRef = this.svgRef.current;\n            if (svgRef) {\n                svgRef.addEventListener(\"mousemove\", this.processSelection);\n                svgRef.addEventListener(\"mouseleave\", this.removeMouseListeners);\n                svgRef.addEventListener(\"mouseup\", this.removeMouseListeners);\n            }\n            this.processSelection(ev);\n        };\n        this.removeMouseListeners = () => {\n            const svgRef = this.svgRef.current;\n            if (svgRef) {\n                svgRef.removeEventListener(\"mousemove\", this.processSelection);\n                svgRef.removeEventListener(\"mouseleave\", this.removeMouseListeners);\n                svgRef.removeEventListener(\"mouseup\", this.removeMouseListeners);\n            }\n            if (this.props.onControlFinished) {\n                this.props.onControlFinished();\n            }\n        };\n        this.processSelection = (ev) => {\n            const { size, maxValue, minValue, angleType, startAngle, endAngle, handle1, disabled, handle2, coerceToInt } = this.props;\n            if (!handle1.onChange) {\n                return;\n            }\n            const svgRef = this.svgRef.current;\n            if (!svgRef) {\n                return;\n            }\n            const svgPoint = svgRef.createSVGPoint();\n            const x = ev.clientX;\n            const y = ev.clientY;\n            svgPoint.x = x;\n            svgPoint.y = y;\n            const coordsInSvg = svgPoint.matrixTransform(svgRef.getScreenCTM().inverse());\n            const angle = circularGeometry_1.positionToAngle(coordsInSvg, size, angleType);\n            let value = circularGeometry_1.angleToValue({\n                angle,\n                minValue,\n                maxValue,\n                startAngle,\n                endAngle\n            });\n            if (coerceToInt) {\n                value = Math.round(value);\n            }\n            if (!disabled) {\n                if (handle2 &&\n                    handle2.onChange &&\n                    Math.abs(value - handle2.value) < Math.abs(value - handle1.value)) {\n                    handle2.onChange(value);\n                }\n                else {\n                    handle1.onChange(value);\n                }\n            }\n        };\n    }\n    render() {\n        const { size, handle1, handle2, handleSize, maxValue, minValue, startAngle, endAngle, angleType, disabled, arcColor, arcBackgroundColor, outerShadow } = this.props;\n        const trackWidth = 4;\n        const shadowWidth = 20;\n        const trackInnerRadius = size / 2 - trackWidth - shadowWidth;\n        const handle1Angle = circularGeometry_1.valueToAngle({\n            value: handle1.value,\n            minValue,\n            maxValue,\n            startAngle,\n            endAngle\n        });\n        const handle2Angle = handle2 &&\n            circularGeometry_1.valueToAngle({\n                value: handle2.value,\n                minValue,\n                maxValue,\n                startAngle,\n                endAngle\n            });\n        const handle1Position = circularGeometry_1.angleToPosition(Object.assign({ degree: handle1Angle }, angleType), trackInnerRadius + trackWidth / 2, size);\n        const handle2Position = handle2Angle &&\n            circularGeometry_1.angleToPosition(Object.assign({ degree: handle2Angle }, angleType), trackInnerRadius + trackWidth / 2, size);\n        const controllable = !disabled && Boolean(handle1.onChange);\n        return (React.createElement(\"svg\", { width: size, height: size, ref: this.svgRef, onMouseDown: this.onMouseDown, onMouseEnter: this.onMouseEnter, onClick: ev => controllable && ev.stopPropagation() },\n            outerShadow && (React.createElement(React.Fragment, null,\n                React.createElement(\"radialGradient\", { id: \"outerShadow\" },\n                    React.createElement(\"stop\", { offset: \"90%\", stopColor: arcColor }),\n                    React.createElement(\"stop\", { offset: \"100%\", stopColor: \"white\" })),\n                React.createElement(\"circle\", { fill: \"none\", stroke: \"url(#outerShadow)\", cx: size / 2, cy: size / 2, r: trackInnerRadius + trackWidth + shadowWidth / 2 - 1, strokeWidth: shadowWidth }))),\n            handle2Angle === undefined ? (React.createElement(React.Fragment, null,\n                React.createElement(\"path\", { d: svgPaths_1.arcPathWithRoundedEnds({\n                        startAngle: handle1Angle,\n                        endAngle,\n                        angleType,\n                        innerRadius: trackInnerRadius,\n                        thickness: trackWidth,\n                        svgSize: size,\n                        direction: angleType.direction\n                    }), fill: arcBackgroundColor }),\n                React.createElement(\"path\", { d: svgPaths_1.arcPathWithRoundedEnds({\n                        startAngle,\n                        endAngle: handle1Angle,\n                        angleType,\n                        innerRadius: trackInnerRadius,\n                        thickness: trackWidth,\n                        svgSize: size,\n                        direction: angleType.direction\n                    }), fill: arcColor }))) : (React.createElement(React.Fragment, null,\n                React.createElement(\"path\", { d: svgPaths_1.arcPathWithRoundedEnds({\n                        startAngle,\n                        endAngle: handle1Angle,\n                        angleType,\n                        innerRadius: trackInnerRadius,\n                        thickness: trackWidth,\n                        svgSize: size,\n                        direction: angleType.direction\n                    }), fill: arcBackgroundColor }),\n                React.createElement(\"path\", { d: svgPaths_1.arcPathWithRoundedEnds({\n                        startAngle: handle2Angle,\n                        endAngle,\n                        angleType,\n                        innerRadius: trackInnerRadius,\n                        thickness: trackWidth,\n                        svgSize: size,\n                        direction: angleType.direction\n                    }), fill: arcBackgroundColor }),\n                React.createElement(\"path\", { d: svgPaths_1.arcPathWithRoundedEnds({\n                        startAngle: handle1Angle,\n                        endAngle: handle2Angle,\n                        angleType,\n                        innerRadius: trackInnerRadius,\n                        thickness: trackWidth,\n                        svgSize: size,\n                        direction: angleType.direction\n                    }), fill: arcColor }))),\n            controllable && (React.createElement(React.Fragment, null,\n                React.createElement(\"filter\", { id: \"handleShadow\", x: \"-50%\", y: \"-50%\", width: \"16\", height: \"16\" },\n                    React.createElement(\"feOffset\", { result: \"offOut\", in: \"SourceGraphic\", dx: \"0\", dy: \"0\" }),\n                    React.createElement(\"feColorMatrix\", { result: \"matrixOut\", in: \"offOut\", type: \"matrix\", values: \"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0\" }),\n                    React.createElement(\"feGaussianBlur\", { result: \"blurOut\", in: \"matrixOut\", stdDeviation: \"5\" }),\n                    React.createElement(\"feBlend\", { in: \"SourceGraphic\", in2: \"blurOut\", mode: \"normal\" })),\n                React.createElement(\"circle\", { r: handleSize, cx: handle1Position.x, cy: handle1Position.y, fill: \"#ffffff\", filter: \"url(#handleShadow)\" }))),\n            handle2Position && (React.createElement(React.Fragment, null,\n                React.createElement(\"circle\", { r: handleSize, cx: handle2Position.x, cy: handle2Position.y, fill: \"#ffffff\", filter: \"url(#handleShadow)\" })))));\n    }\n}\nexports.CircularSlider = CircularSlider;\nCircularSlider.defaultProps = {\n    size: 200,\n    minValue: 0,\n    maxValue: 100,\n    startAngle: 0,\n    endAngle: 360,\n    angleType: {\n        direction: \"cw\",\n        axis: \"-y\"\n    },\n    handleSize: 8,\n    arcBackgroundColor: \"#aaa\"\n};\nclass CircularSliderWithChildren extends React.Component {\n    render() {\n        const { size } = this.props;\n        return (React.createElement(\"div\", { style: {\n                width: size,\n                height: size,\n                position: \"relative\"\n            } },\n            React.createElement(CircularSlider, Object.assign({}, this.props)),\n            React.createElement(\"div\", { style: {\n                    position: \"absolute\",\n                    top: \"25%\",\n                    left: \"50%\",\n                    transform: \"translateX(-50%)\",\n                    width: \"60px\",\n                    display: \"flex\",\n                    flexDirection: \"column\",\n                    alignItems: \"center\",\n                    justifyContent: \"center\"\n                } }, this.props.children)));\n    }\n}\nexports.CircularSliderWithChildren = CircularSliderWithChildren;\nCircularSliderWithChildren.defaultProps = CircularSlider.defaultProps;\nexports.default = CircularSlider;\n"]},"metadata":{},"sourceType":"script"}