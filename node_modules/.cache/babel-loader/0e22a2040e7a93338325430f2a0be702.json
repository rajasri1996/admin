{"ast":null,"code":"var _jsxFileName = \"C:\\\\Fund\\\\soft\\\\admin\\\\src\\\\examples\\\\Globe\\\\index.js\",\n    _s = $RefreshSig$();\n\n/**\n=========================================================\n* Soft UI Dashboard PRO React - v2.0.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/soft-ui-dashboard-pro-material-ui\n* Copyright 2021 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\nimport { useEffect, useRef } from \"react\"; // prop-types is a library for typechecking of props\n\nimport PropTypes from \"prop-types\"; // threejs components\n\nimport * as THREE from \"three\";\nimport { OrbitControls } from \"three/examples/jsm/controls/OrbitControls\";\nimport SuiBox from \"components/SuiBox\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Globe(_ref) {\n  _s();\n\n  let {\n    canvasStyle,\n    ...rest\n  } = _ref;\n  const globeRef = useRef(null);\n  const canvasRef = useRef(null);\n  useEffect(() => {\n    function createGlobe() {\n      const container = globeRef.current;\n      const canvas = canvasRef.current;\n      const globeRadius = 100;\n      const globeWidth = 4098 / 2;\n      const globeHeight = 1968 / 2;\n\n      function convertFlatCoordsToSphereCoords(x, y) {\n        let latitude = (x - globeWidth) / globeWidth * -180;\n        let longitude = (y - globeHeight) / globeHeight * -90;\n        latitude = latitude * Math.PI / 180;\n        longitude = longitude * Math.PI / 180;\n        const radius = Math.cos(longitude) * globeRadius;\n        return {\n          x: Math.cos(latitude) * radius,\n          y: Math.sin(longitude) * globeRadius,\n          z: Math.sin(latitude) * radius\n        };\n      }\n\n      function makeMagic(points) {\n        const {\n          width,\n          height\n        } = container.getBoundingClientRect(); // 1. Setup scene\n\n        const scene = new THREE.Scene(); // 2. Setup camera\n\n        const camera = new THREE.PerspectiveCamera(45, width / height); // 3. Setup renderer\n\n        const renderer = new THREE.WebGLRenderer({\n          canvas,\n          antialias: true\n        });\n        renderer.setSize(width, height); // 4. Add points to canvas\n        // - Single geometry to contain all points.\n\n        const mergedGeometry = new THREE.Geometry(); // - Material that the dots will be made of.\n\n        const pointGeometry = new THREE.SphereGeometry(0.5, 1, 1);\n        const pointMaterial = new THREE.MeshBasicMaterial({\n          color: \"#989db5\"\n        }); // eslint-disable-next-line no-restricted-syntax\n\n        for (const point of points) {\n          const {\n            x,\n            y,\n            z\n          } = convertFlatCoordsToSphereCoords(point.x, point.y, width, height);\n\n          if (x && y && z) {\n            pointGeometry.translate(x, y, z);\n            mergedGeometry.merge(pointGeometry);\n            pointGeometry.translate(-x, -y, -z);\n          }\n        }\n\n        const globeShape = new THREE.Mesh(mergedGeometry, pointMaterial);\n        scene.add(globeShape);\n        container.classList.add(\"peekaboo\"); // Setup orbital controls\n\n        camera.orbitControls = new OrbitControls(camera, canvas);\n        camera.orbitControls.enableKeys = false;\n        camera.orbitControls.enablePan = false;\n        camera.orbitControls.enableZoom = false;\n        camera.orbitControls.enableDamping = false;\n        camera.orbitControls.enableRotate = true;\n        camera.orbitControls.autoRotate = true;\n        camera.position.z = -265;\n\n        function animate() {\n          // orbitControls.autoRotate is enabled so orbitControls.update\n          // must be called inside animation loop.\n          camera.orbitControls.update();\n          requestAnimationFrame(animate);\n          renderer.render(scene, camera);\n        }\n\n        animate();\n      }\n\n      function hasWebGL() {\n        const gl = canvas.getContext(\"webgl\") || canvas.getContext(\"experimental-webgl\");\n\n        if (gl && gl instanceof WebGLRenderingContext) {\n          return true;\n        }\n\n        return false;\n      }\n\n      function init() {\n        if (hasWebGL()) {\n          window.fetch(\"https://raw.githubusercontent.com/creativetimofficial/public-assets/master/soft-ui-dashboard-pro/assets/js/points.json\").then(response => response.json()).then(data => {\n            makeMagic(data.points);\n          });\n        }\n      }\n\n      init();\n    }\n\n    createGlobe();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(SuiBox, {\n    ref: globeRef,\n    ...rest,\n    children: /*#__PURE__*/_jsxDEV(\"canvas\", {\n      ref: canvasRef,\n      width: \"700\",\n      height: \"600\",\n      style: {\n        outline: \"none\",\n        ...canvasStyle\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 139,\n    columnNumber: 5\n  }, this);\n} // Setting default values for the props for Globe\n\n\n_s(Globe, \"w28R6zAG0V3ZojU/hAJPwpDV9ko=\");\n\n_c = Globe;\nGlobe.defaultProps = {\n  canvasStyle: {}\n}; // Typechecking props for the Globe\n\nGlobe.propTypes = {\n  canvasStyle: PropTypes.objectOf(PropTypes.any)\n};\nexport default Globe;\n\nvar _c;\n\n$RefreshReg$(_c, \"Globe\");","map":{"version":3,"sources":["C:/Fund/soft/admin/src/examples/Globe/index.js"],"names":["useEffect","useRef","PropTypes","THREE","OrbitControls","SuiBox","Globe","canvasStyle","rest","globeRef","canvasRef","createGlobe","container","current","canvas","globeRadius","globeWidth","globeHeight","convertFlatCoordsToSphereCoords","x","y","latitude","longitude","Math","PI","radius","cos","sin","z","makeMagic","points","width","height","getBoundingClientRect","scene","Scene","camera","PerspectiveCamera","renderer","WebGLRenderer","antialias","setSize","mergedGeometry","Geometry","pointGeometry","SphereGeometry","pointMaterial","MeshBasicMaterial","color","point","translate","merge","globeShape","Mesh","add","classList","orbitControls","enableKeys","enablePan","enableZoom","enableDamping","enableRotate","autoRotate","position","animate","update","requestAnimationFrame","render","hasWebGL","gl","getContext","WebGLRenderingContext","init","window","fetch","then","response","json","data","outline","defaultProps","propTypes","objectOf","any"],"mappings":";;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,SAASA,SAAT,EAAoBC,MAApB,QAAkC,OAAlC,C,CAEA;;AACA,OAAOC,SAAP,MAAsB,YAAtB,C,CAEA;;AACA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB;AACA,SAASC,aAAT,QAA8B,2CAA9B;AAEA,OAAOC,MAAP,MAAmB,mBAAnB;;;AAEA,SAASC,KAAT,OAAyC;AAAA;;AAAA,MAA1B;AAAEC,IAAAA,WAAF;AAAe,OAAGC;AAAlB,GAA0B;AACvC,QAAMC,QAAQ,GAAGR,MAAM,CAAC,IAAD,CAAvB;AACA,QAAMS,SAAS,GAAGT,MAAM,CAAC,IAAD,CAAxB;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACd,aAASW,WAAT,GAAuB;AACrB,YAAMC,SAAS,GAAGH,QAAQ,CAACI,OAA3B;AACA,YAAMC,MAAM,GAAGJ,SAAS,CAACG,OAAzB;AAEA,YAAME,WAAW,GAAG,GAApB;AACA,YAAMC,UAAU,GAAG,OAAO,CAA1B;AACA,YAAMC,WAAW,GAAG,OAAO,CAA3B;;AAEA,eAASC,+BAAT,CAAyCC,CAAzC,EAA4CC,CAA5C,EAA+C;AAC7C,YAAIC,QAAQ,GAAI,CAACF,CAAC,GAAGH,UAAL,IAAmBA,UAApB,GAAkC,CAAC,GAAlD;AACA,YAAIM,SAAS,GAAI,CAACF,CAAC,GAAGH,WAAL,IAAoBA,WAArB,GAAoC,CAAC,EAArD;AACAI,QAAAA,QAAQ,GAAIA,QAAQ,GAAGE,IAAI,CAACC,EAAjB,GAAuB,GAAlC;AACAF,QAAAA,SAAS,GAAIA,SAAS,GAAGC,IAAI,CAACC,EAAlB,GAAwB,GAApC;AACA,cAAMC,MAAM,GAAGF,IAAI,CAACG,GAAL,CAASJ,SAAT,IAAsBP,WAArC;AAEA,eAAO;AACLI,UAAAA,CAAC,EAAEI,IAAI,CAACG,GAAL,CAASL,QAAT,IAAqBI,MADnB;AAELL,UAAAA,CAAC,EAAEG,IAAI,CAACI,GAAL,CAASL,SAAT,IAAsBP,WAFpB;AAGLa,UAAAA,CAAC,EAAEL,IAAI,CAACI,GAAL,CAASN,QAAT,IAAqBI;AAHnB,SAAP;AAKD;;AAED,eAASI,SAAT,CAAmBC,MAAnB,EAA2B;AACzB,cAAM;AAAEC,UAAAA,KAAF;AAASC,UAAAA;AAAT,YAAoBpB,SAAS,CAACqB,qBAAV,EAA1B,CADyB,CAGzB;;AACA,cAAMC,KAAK,GAAG,IAAI/B,KAAK,CAACgC,KAAV,EAAd,CAJyB,CAKzB;;AACA,cAAMC,MAAM,GAAG,IAAIjC,KAAK,CAACkC,iBAAV,CAA4B,EAA5B,EAAgCN,KAAK,GAAGC,MAAxC,CAAf,CANyB,CAOzB;;AACA,cAAMM,QAAQ,GAAG,IAAInC,KAAK,CAACoC,aAAV,CAAwB;AACvCzB,UAAAA,MADuC;AAEvC0B,UAAAA,SAAS,EAAE;AAF4B,SAAxB,CAAjB;AAIAF,QAAAA,QAAQ,CAACG,OAAT,CAAiBV,KAAjB,EAAwBC,MAAxB,EAZyB,CAazB;AACA;;AACA,cAAMU,cAAc,GAAG,IAAIvC,KAAK,CAACwC,QAAV,EAAvB,CAfyB,CAgBzB;;AACA,cAAMC,aAAa,GAAG,IAAIzC,KAAK,CAAC0C,cAAV,CAAyB,GAAzB,EAA8B,CAA9B,EAAiC,CAAjC,CAAtB;AACA,cAAMC,aAAa,GAAG,IAAI3C,KAAK,CAAC4C,iBAAV,CAA4B;AAChDC,UAAAA,KAAK,EAAE;AADyC,SAA5B,CAAtB,CAlByB,CAsBzB;;AACA,aAAK,MAAMC,KAAX,IAAoBnB,MAApB,EAA4B;AAC1B,gBAAM;AAAEX,YAAAA,CAAF;AAAKC,YAAAA,CAAL;AAAQQ,YAAAA;AAAR,cAAcV,+BAA+B,CAAC+B,KAAK,CAAC9B,CAAP,EAAU8B,KAAK,CAAC7B,CAAhB,EAAmBW,KAAnB,EAA0BC,MAA1B,CAAnD;;AAEA,cAAIb,CAAC,IAAIC,CAAL,IAAUQ,CAAd,EAAiB;AACfgB,YAAAA,aAAa,CAACM,SAAd,CAAwB/B,CAAxB,EAA2BC,CAA3B,EAA8BQ,CAA9B;AACAc,YAAAA,cAAc,CAACS,KAAf,CAAqBP,aAArB;AACAA,YAAAA,aAAa,CAACM,SAAd,CAAwB,CAAC/B,CAAzB,EAA4B,CAACC,CAA7B,EAAgC,CAACQ,CAAjC;AACD;AACF;;AAED,cAAMwB,UAAU,GAAG,IAAIjD,KAAK,CAACkD,IAAV,CAAeX,cAAf,EAA+BI,aAA/B,CAAnB;AACAZ,QAAAA,KAAK,CAACoB,GAAN,CAAUF,UAAV;AAEAxC,QAAAA,SAAS,CAAC2C,SAAV,CAAoBD,GAApB,CAAwB,UAAxB,EApCyB,CAsCzB;;AACAlB,QAAAA,MAAM,CAACoB,aAAP,GAAuB,IAAIpD,aAAJ,CAAkBgC,MAAlB,EAA0BtB,MAA1B,CAAvB;AACAsB,QAAAA,MAAM,CAACoB,aAAP,CAAqBC,UAArB,GAAkC,KAAlC;AACArB,QAAAA,MAAM,CAACoB,aAAP,CAAqBE,SAArB,GAAiC,KAAjC;AACAtB,QAAAA,MAAM,CAACoB,aAAP,CAAqBG,UAArB,GAAkC,KAAlC;AACAvB,QAAAA,MAAM,CAACoB,aAAP,CAAqBI,aAArB,GAAqC,KAArC;AACAxB,QAAAA,MAAM,CAACoB,aAAP,CAAqBK,YAArB,GAAoC,IAApC;AACAzB,QAAAA,MAAM,CAACoB,aAAP,CAAqBM,UAArB,GAAkC,IAAlC;AACA1B,QAAAA,MAAM,CAAC2B,QAAP,CAAgBnC,CAAhB,GAAoB,CAAC,GAArB;;AAEA,iBAASoC,OAAT,GAAmB;AACjB;AACA;AACA5B,UAAAA,MAAM,CAACoB,aAAP,CAAqBS,MAArB;AACAC,UAAAA,qBAAqB,CAACF,OAAD,CAArB;AACA1B,UAAAA,QAAQ,CAAC6B,MAAT,CAAgBjC,KAAhB,EAAuBE,MAAvB;AACD;;AACD4B,QAAAA,OAAO;AACR;;AAED,eAASI,QAAT,GAAoB;AAClB,cAAMC,EAAE,GAAGvD,MAAM,CAACwD,UAAP,CAAkB,OAAlB,KAA8BxD,MAAM,CAACwD,UAAP,CAAkB,oBAAlB,CAAzC;;AACA,YAAID,EAAE,IAAIA,EAAE,YAAYE,qBAAxB,EAA+C;AAC7C,iBAAO,IAAP;AACD;;AACD,eAAO,KAAP;AACD;;AAED,eAASC,IAAT,GAAgB;AACd,YAAIJ,QAAQ,EAAZ,EAAgB;AACdK,UAAAA,MAAM,CACHC,KADH,CAEI,wHAFJ,EAIGC,IAJH,CAISC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EAJtB,EAKGF,IALH,CAKSG,IAAD,IAAU;AACdjD,YAAAA,SAAS,CAACiD,IAAI,CAAChD,MAAN,CAAT;AACD,WAPH;AAQD;AACF;;AACD0C,MAAAA,IAAI;AACL;;AAED7D,IAAAA,WAAW;AACZ,GAzGQ,EAyGN,EAzGM,CAAT;AA2GA,sBACE,QAAC,MAAD;AAAQ,IAAA,GAAG,EAAEF,QAAb;AAAA,OAA2BD,IAA3B;AAAA,2BACE;AACE,MAAA,GAAG,EAAEE,SADP;AAEE,MAAA,KAAK,EAAC,KAFR;AAGE,MAAA,MAAM,EAAC,KAHT;AAIE,MAAA,KAAK,EAAE;AAAEqE,QAAAA,OAAO,EAAE,MAAX;AAAmB,WAAGxE;AAAtB;AAJT;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AAUD,C,CAED;;;GA3HSD,K;;KAAAA,K;AA4HTA,KAAK,CAAC0E,YAAN,GAAqB;AACnBzE,EAAAA,WAAW,EAAE;AADM,CAArB,C,CAIA;;AACAD,KAAK,CAAC2E,SAAN,GAAkB;AAChB1E,EAAAA,WAAW,EAAEL,SAAS,CAACgF,QAAV,CAAmBhF,SAAS,CAACiF,GAA7B;AADG,CAAlB;AAIA,eAAe7E,KAAf","sourcesContent":["/**\n=========================================================\n* Soft UI Dashboard PRO React - v2.0.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/soft-ui-dashboard-pro-material-ui\n* Copyright 2021 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\nimport { useEffect, useRef } from \"react\";\n\n// prop-types is a library for typechecking of props\nimport PropTypes from \"prop-types\";\n\n// threejs components\nimport * as THREE from \"three\";\nimport { OrbitControls } from \"three/examples/jsm/controls/OrbitControls\";\n\nimport SuiBox from \"components/SuiBox\";\n\nfunction Globe({ canvasStyle, ...rest }) {\n  const globeRef = useRef(null);\n  const canvasRef = useRef(null);\n\n  useEffect(() => {\n    function createGlobe() {\n      const container = globeRef.current;\n      const canvas = canvasRef.current;\n\n      const globeRadius = 100;\n      const globeWidth = 4098 / 2;\n      const globeHeight = 1968 / 2;\n\n      function convertFlatCoordsToSphereCoords(x, y) {\n        let latitude = ((x - globeWidth) / globeWidth) * -180;\n        let longitude = ((y - globeHeight) / globeHeight) * -90;\n        latitude = (latitude * Math.PI) / 180;\n        longitude = (longitude * Math.PI) / 180;\n        const radius = Math.cos(longitude) * globeRadius;\n\n        return {\n          x: Math.cos(latitude) * radius,\n          y: Math.sin(longitude) * globeRadius,\n          z: Math.sin(latitude) * radius,\n        };\n      }\n\n      function makeMagic(points) {\n        const { width, height } = container.getBoundingClientRect();\n\n        // 1. Setup scene\n        const scene = new THREE.Scene();\n        // 2. Setup camera\n        const camera = new THREE.PerspectiveCamera(45, width / height);\n        // 3. Setup renderer\n        const renderer = new THREE.WebGLRenderer({\n          canvas,\n          antialias: true,\n        });\n        renderer.setSize(width, height);\n        // 4. Add points to canvas\n        // - Single geometry to contain all points.\n        const mergedGeometry = new THREE.Geometry();\n        // - Material that the dots will be made of.\n        const pointGeometry = new THREE.SphereGeometry(0.5, 1, 1);\n        const pointMaterial = new THREE.MeshBasicMaterial({\n          color: \"#989db5\",\n        });\n\n        // eslint-disable-next-line no-restricted-syntax\n        for (const point of points) {\n          const { x, y, z } = convertFlatCoordsToSphereCoords(point.x, point.y, width, height);\n\n          if (x && y && z) {\n            pointGeometry.translate(x, y, z);\n            mergedGeometry.merge(pointGeometry);\n            pointGeometry.translate(-x, -y, -z);\n          }\n        }\n\n        const globeShape = new THREE.Mesh(mergedGeometry, pointMaterial);\n        scene.add(globeShape);\n\n        container.classList.add(\"peekaboo\");\n\n        // Setup orbital controls\n        camera.orbitControls = new OrbitControls(camera, canvas);\n        camera.orbitControls.enableKeys = false;\n        camera.orbitControls.enablePan = false;\n        camera.orbitControls.enableZoom = false;\n        camera.orbitControls.enableDamping = false;\n        camera.orbitControls.enableRotate = true;\n        camera.orbitControls.autoRotate = true;\n        camera.position.z = -265;\n\n        function animate() {\n          // orbitControls.autoRotate is enabled so orbitControls.update\n          // must be called inside animation loop.\n          camera.orbitControls.update();\n          requestAnimationFrame(animate);\n          renderer.render(scene, camera);\n        }\n        animate();\n      }\n\n      function hasWebGL() {\n        const gl = canvas.getContext(\"webgl\") || canvas.getContext(\"experimental-webgl\");\n        if (gl && gl instanceof WebGLRenderingContext) {\n          return true;\n        }\n        return false;\n      }\n\n      function init() {\n        if (hasWebGL()) {\n          window\n            .fetch(\n              \"https://raw.githubusercontent.com/creativetimofficial/public-assets/master/soft-ui-dashboard-pro/assets/js/points.json\"\n            )\n            .then((response) => response.json())\n            .then((data) => {\n              makeMagic(data.points);\n            });\n        }\n      }\n      init();\n    }\n\n    createGlobe();\n  }, []);\n\n  return (\n    <SuiBox ref={globeRef} {...rest}>\n      <canvas\n        ref={canvasRef}\n        width=\"700\"\n        height=\"600\"\n        style={{ outline: \"none\", ...canvasStyle }}\n      />\n    </SuiBox>\n  );\n}\n\n// Setting default values for the props for Globe\nGlobe.defaultProps = {\n  canvasStyle: {},\n};\n\n// Typechecking props for the Globe\nGlobe.propTypes = {\n  canvasStyle: PropTypes.objectOf(PropTypes.any),\n};\n\nexport default Globe;\n"]},"metadata":{},"sourceType":"module"}